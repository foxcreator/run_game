# üîä –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∞—É–¥—ñ–æ - –í–∏—Ä—ñ—à–µ–Ω–Ω—è –∑–∞—Ç—Ä–∏–º–∫–∏ –∑–≤—É–∫—ñ–≤

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

–ó–≤—É–∫–∏ —Å–ø—Ä–∞—Ü—å–æ–≤—É—é—Ç—å –∑ –≤–µ–ª–∏–∫–æ—é –∑–∞—Ç—Ä–∏–º–∫–æ—é —á–µ—Ä–µ–∑:
1. **WAV —Ñ–æ—Ä–º–∞—Ç** - –ø–æ—Ç—Ä–µ–±—É—î –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è (–≤–µ–ª–∏–∫–∏–π —Ä–æ–∑–º—ñ—Ä)
2. **–í–µ–ª–∏–∫—ñ —Ñ–∞–π–ª–∏** - engine sounds ~11MB, ambient sounds ~247MB
3. **–°–∏–Ω—Ö—Ä–æ–Ω–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è** - –≤—Å—ñ —Ñ–∞–π–ª–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –æ–¥–Ω–æ—á–∞—Å–Ω–æ

---

## ‚úÖ –†—ñ—à–µ–Ω–Ω—è

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è WAV ‚Üí MP3 (–†–ï–ö–û–ú–ï–ù–î–û–í–ê–ù–û)

MP3 —Ñ–∞–π–ª–∏:
- ‚úÖ –ú–µ–Ω—à–∏–π —Ä–æ–∑–º—ñ—Ä (~10x —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è)
- ‚úÖ –®–≤–∏–¥—à–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- ‚úÖ –ú–µ–Ω—à–µ –∑–∞—Ç—Ä–∏–º–∫–∞ –¥–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è
- ‚úÖ –ù–∞—Ç–∏–≤–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–º

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Å–∫—Ä–∏–ø—Ç:**
```bash
./convert-audio.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç—É—î:
- Menu sounds (menu_hover.wav, menu_choise.wav)
- Engine sounds (motorseamless01-10.wav)
- –Ü–Ω—à—ñ WAV —Ñ–∞–π–ª–∏
- –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ: Ambient sounds (birds, wind, river)

---

### –í–∞—Ä—ñ–∞–Ω—Ç 2: Lazy Loading (–í–ñ–ï –†–ï–ê–õ–Ü–ó–û–í–ê–ù–û)

‚úÖ Ambient sounds (247MB) **–≤–∂–µ –∑–∞–∫–æ–º–µ–Ω—Ç–æ–≤–∞–Ω—ñ** –≤ –∫–æ–¥—ñ:
```javascript
// ‚ùå AMBIENT –ó–í–£–ö–ò –¢–ò–ú–ß–ê–°–û–í–û –í–ò–ú–ö–ù–ï–ù–Ü
// this.load.audio('ambience_birds', './src/assets/sounds/ambience/birds.wav');
// this.load.audio('ambience_wind', './src/assets/sounds/ambience/wind.wav');
// this.load.audio('ambience_river', './src/assets/sounds/ambience/river.wav');
```

---

## üìä –†–æ–∑–º—ñ—Ä–∏ —Ñ–∞–π–ª—ñ–≤

### –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω:
```
–í—Å—å–æ–≥–æ –∑–≤—É–∫—ñ–≤:  259MB
‚îú‚îÄ‚îÄ ambience/   247MB (–ó–ê–ö–û–ú–ï–ù–¢–û–í–ê–ù–û)
‚îú‚îÄ‚îÄ engine/      11MB (WAV)
‚îî‚îÄ‚îÄ —ñ–Ω—à—ñ         ~1MB
```

### –ü—ñ—Å–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó:
```
–í—Å—å–æ–≥–æ –∑–≤—É–∫—ñ–≤:  ~40MB
‚îú‚îÄ‚îÄ ambience/   ~25MB (MP3, —è–∫—â–æ —É–≤—ñ–º–∫–Ω—É—Ç–∏)
‚îú‚îÄ‚îÄ engine/     ~1-2MB (MP3)
‚îî‚îÄ‚îÄ —ñ–Ω—à—ñ        ~1MB (MP3)
```

**–ï–∫–æ–Ω–æ–º—ñ—è: ~85%** üéâ

---

## üõ†Ô∏è –ü–æ–∫—Ä–æ–∫–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è

### 1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å ffmpeg (—è–∫—â–æ –Ω–µ–º–∞—î)

**macOS:**
```bash
brew install ffmpeg
```

**Ubuntu/Debian:**
```bash
sudo apt install ffmpeg
```

**Windows:**
–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∑ https://ffmpeg.org/download.html

---

### 2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—é

```bash
cd /Users/foxcreator/work/busification_run
./convert-audio.sh
```

–°–∫—Ä–∏–ø—Ç:
- –ö–æ–Ω–≤–µ—Ä—Ç—É—î –≤—Å—ñ WAV ‚Üí MP3
- –ü–æ–∫–∞–∑—É—î –ø—Ä–æ–≥—Ä–µ—Å
- –ü–æ—Ä—ñ–≤–Ω—é—î —Ä–æ–∑–º—ñ—Ä–∏
- –ó–∞–ø–∏—Ç–∞—î —á–∏ –∫–æ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏ ambient sounds

---

### 3. –û–Ω–æ–≤—ñ—Ç—å –∫–æ–¥

**GameScene.js:**
```javascript
// –ë—É–ª–æ:
this.load.audio(engine, `./src/assets/sounds/engine-sounds/motorseamless${num}.wav`);

// –°—Ç–∞–ª–æ:
this.load.audio(engine, `./src/assets/sounds/engine-sounds/motorseamless${num}.mp3`);
```

**BootScene.js:**
```javascript
// –ë—É–ª–æ:
this.load.audio('menu_hover', './src/assets/sounds/menu_hover.wav');

// –°—Ç–∞–ª–æ:
this.load.audio('menu_hover', './src/assets/sounds/menu_hover.mp3');
```

---

### 4. –í–∏–¥–∞–ª—ñ—Ç—å —Å—Ç–∞—Ä—ñ WAV —Ñ–∞–π–ª–∏ (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

```bash
# –í–∏–¥–∞–ª–∏—Ç–∏ menu sounds
rm src/assets/sounds/menu_*.wav

# –í–∏–¥–∞–ª–∏—Ç–∏ engine sounds
rm src/assets/sounds/engine-sounds/*.wav

# –í–∏–¥–∞–ª–∏—Ç–∏ ambient sounds (—è–∫—â–æ –∫–æ–Ω–≤–µ—Ä—Ç—É–≤–∞–ª–∏)
rm src/assets/sounds/ambience/*.wav
```

---

## üéÆ –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

### –î–æ:
- ‚è±Ô∏è –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è: 30-60 —Å–µ–∫—É–Ω–¥
- üîä –ó–∞—Ç—Ä–∏–º–∫–∞ –∑–≤—É–∫—ñ–≤: 100-500–º—Å
- üíæ –†–æ–∑–º—ñ—Ä: 259MB

### –ü—ñ—Å–ª—è:
- ‚è±Ô∏è –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è: 5-10 —Å–µ–∫—É–Ω–¥
- üîä –ó–∞—Ç—Ä–∏–º–∫–∞ –∑–≤—É–∫—ñ–≤: 10-50–º—Å
- üíæ –†–æ–∑–º—ñ—Ä: ~40MB

---

## üìù –î–æ–¥–∞—Ç–∫–æ–≤—ñ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó

### 1. Streaming Audio (–¥–ª—è –¥—É–∂–µ –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤)
```javascript
this.load.audio({
    key: 'ambient_music',
    url: './path/to/large-file.mp3',
    stream: true  // –ü–æ—Ç–æ–∫–æ–≤–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
});
```

### 2. Preload –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏
```javascript
// –í–∞–∂–ª–∏–≤—ñ –∑–≤—É–∫–∏ - –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ø–µ—Ä—à–∏–º–∏
this.load.audio('fall', './src/assets/sounds/fall.mp3');
this.load.audio('money', './src/assets/sounds/money.mp3');

// –ú–µ–Ω—à –≤–∞–∂–ª–∏–≤—ñ - –º–æ–∂–Ω–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ø—ñ–∑–Ω—ñ—à–µ
// (engine sounds, ambient sounds)
```

### 3. Audio Sprite (–æ–±'—î–¥–Ω–∞–Ω–Ω—è –∑–≤—É–∫—ñ–≤)
–û–±'—î–¥–Ω–∞—Ç–∏ –≤—Å—ñ –∫–æ—Ä–æ—Ç–∫—ñ –∑–≤—É–∫–∏ –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª + JSON –∑ —Ç–∞–π–º—ñ–Ω–≥–∞–º–∏.
–ó–º–µ–Ω—à—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å HTTP –∑–∞–ø–∏—Ç—ñ–≤.

---

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ

1. **Backup**: –ó—Ä–æ–±—ñ—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É –∫–æ–ø—ñ—é WAV —Ñ–∞–π–ª—ñ–≤ –ø–µ—Ä–µ–¥ –≤–∏–¥–∞–ª–µ–Ω–Ω—è–º
2. **–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è**: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –≤—Å—ñ –∑–≤—É–∫–∏ –ø—Ä–∞—Ü—é—é—Ç—å –ø—ñ—Å–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó
3. **Git**: –ù–µ –∫–æ–º—ñ—Ç—å—Ç–µ —è–∫ WAV —Ç–∞–∫ —ñ MP3 —Ä–∞–∑–æ–º (–∑–∞–Ω–∞–¥—Ç–æ –≤–µ–ª–∏–∫–∏–π —Ä–æ–∑–º—ñ—Ä)

---

## üîó –ü–æ—Å–∏–ª–∞–Ω–Ω—è

- [FFmpeg Documentation](https://ffmpeg.org/documentation.html)
- [Phaser Audio Guide](https://photonstorm.github.io/phaser3-docs/Phaser.Sound.HTML5AudioSound.html)
- [Web Audio API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API)
